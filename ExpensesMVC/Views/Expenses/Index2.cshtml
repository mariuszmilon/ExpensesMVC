@model ExpensesMVC.Data.ExpenseVM

<h1>My expense</h1>

@if(Model.CurrentMonth == Model.MonthToDisplay){
    <button class="btn btn-dark my-3 ">
            <a class="link-light text-decoration-none" asp-action="Create">Add expense</a>
    </button>
}

<form asp-action="Index2" method="get">

    <fieldset>
        Select month:
        <select id="MonthToDisplay" name="MonthToDisplay">

            <option value="@Model.MonthToDisplayIntString">@Model.MonthToDisplay</option>

            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>

        </select>

        <p>
            <input type="submit" value="Submit" /> 
        </p>

    </fieldset>

</form>


<div>
    <th class="text-black">
        Month: @Html.DisplayFor(modelItem => Model.MonthToDisplay)
    </th>

    <br />

    <th class="text-black">
        Total cost for this month: @Html.DisplayFor(modelItem => Model.TotalPrice) PLN
    </th>
</div>

<br />
<br />

All expenses for this month:
<table class="table text-light">
    <thead>
        <tr>
            <th>
                Title
            </th>
            <th>
                Description
            </th>
            <th>
                Price
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Expenses)
        {
                <tr>
                    <td class="text-black">
                    @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td class="text-black">
                    @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td class="text-black">
                    @Html.DisplayFor(modelItem => item.Price) PLN
                    </td>
                    @if (Model.CurrentMonth == Model.MonthToDisplay)
                    {
                        <td class="d-flex">
                            <form asp-action="Delete">
                                <div>
                                    <input type="hidden" name="id" value="@item.Id" />
                                    <input type="submit" value="Remove expense" class="btn btn-danger" />
                                </div>
                            </form>
                        </td>
                    }
                </tr>
        }
    </tbody>
</table>